# ä¸ªäººåšå®¢ç½‘ç«™å¼€å‘æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº Next.js 14 + Sanity CMS çš„ä¸ªäººåšå®¢ç½‘ç«™ï¼Œæ”¯æŒå†…å®¹ç®¡ç†ç³»ç»Ÿã€å¯Œæ–‡æœ¬ç¼–è¾‘ã€åˆ†ç±»ç®¡ç†ã€SEOä¼˜åŒ–ç­‰åŠŸèƒ½ã€‚ç½‘ç«™éƒ¨ç½²åœ¨ Vercel å¹³å°ï¼Œé’ˆå¯¹ä¸­å›½ç”¨æˆ·è¿›è¡Œäº†ä¼˜åŒ–ã€‚

### æ ¸å¿ƒç‰¹æ€§
- âœ… æ— ä»£ç å†…å®¹ç®¡ç† - é€šè¿‡ Sanity Studio ç®¡ç†æ–‡ç« å’Œç½‘ç«™è®¾ç½®
- âœ… å¯Œæ–‡æœ¬ç¼–è¾‘ - æ”¯æŒåŠ ç²—ã€ä¸‹åˆ’çº¿ã€å›¾ç‰‡æ’å…¥ç­‰æ ¼å¼
- âœ… åˆ†ç±»ç³»ç»Ÿ - å¯è‡ªå®šä¹‰æ–‡ç« åˆ†ç±»
- âœ… å“åº”å¼è®¾è®¡ - é€‚é…å„ç§è®¾å¤‡
- âœ… SEOä¼˜åŒ– - å®Œæ•´çš„å…ƒæ•°æ®ã€sitemapã€robots.txt
- âœ… æœç´¢åŠŸèƒ½ - å…¨ç«™å†…å®¹æœç´¢
- âœ… é«˜æ€§èƒ½ - Vercel CDN + å›¾ç‰‡ä¼˜åŒ–

## æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆé€‰æ‹©
- **å‰ç«¯æ¡†æ¶**: Next.js 14 (App Router)
- **CMSç³»ç»Ÿ**: Sanity CMS
- **æ ·å¼æ–¹æ¡ˆ**: Tailwind CSS
- **å¼€å‘è¯­è¨€**: TypeScript
- **éƒ¨ç½²å¹³å°**: Vercel
- **å›¾ç‰‡CDN**: Sanity Image API

### ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæŠ€æœ¯æ ˆï¼Ÿ
1. **Next.js 14**: æœ€æ–°çš„Reactæ¡†æ¶ï¼Œæä¾›SSR/SSGã€è·¯ç”±ç³»ç»Ÿç­‰
2. **Sanity CMS**: æ— å¤´CMSï¼Œéå¼€å‘è€…å‹å¥½çš„å†…å®¹ç®¡ç†ç•Œé¢
3. **Tailwind CSS**: å¿«é€Ÿæ„å»ºå“åº”å¼UI
4. **TypeScript**: ç±»å‹å®‰å…¨ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
5. **Vercel**: ä¸€é”®éƒ¨ç½²ï¼Œå…¨çƒCDNï¼Œè‡ªåŠ¨ä¼˜åŒ–

## é¡¹ç›®ç»“æ„

```
netdisk-blog/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ admin/[[...index]]/ # Sanity Studio ç®¡ç†ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ posts/[slug]/       # æ–‡ç« è¯¦æƒ…é¡µ
â”‚   â”‚   â”œâ”€â”€ categories/         # åˆ†ç±»é¡µé¢
â”‚   â”‚   â””â”€â”€ search/             # æœç´¢é¡µé¢
â”‚   â”œâ”€â”€ components/             # React ç»„ä»¶
â”‚   â”œâ”€â”€ lib/                    # å·¥å…·å‡½æ•°å’Œé…ç½®
â”‚   â””â”€â”€ types/                  # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ sanity/                     # Sanity CMS é…ç½®
â”‚   â””â”€â”€ schemas/                # æ•°æ®æ¨¡å‹å®šä¹‰
â”œâ”€â”€ next.config.ts              # Next.js é…ç½®
â”œâ”€â”€ sanity.config.ts            # Sanity é…ç½®
â””â”€â”€ tailwind.config.ts          # Tailwind é…ç½®
```

## å¼€å‘è¿‡ç¨‹è®°å½•

### ç¬¬ä¸€é˜¶æ®µï¼šé¡¹ç›®åˆå§‹åŒ– (çº¦30åˆ†é’Ÿ)

#### 1. åˆ›å»ºNext.jsé¡¹ç›®
```bash
npx create-next-app@latest netdisk-blog --typescript --tailwind --eslint --app
cd netdisk-blog
```

#### 2. å®‰è£…ä¾èµ–
```bash
npm install @sanity/client @sanity/image-url @portabletext/react
npm install sanity next-sanity date-fns
```

#### 3. åˆå§‹åŒ–Sanityé¡¹ç›®
```bash
npx sanity@latest init
# é€‰æ‹©åˆ›å»ºæ–°é¡¹ç›®ï¼Œé…ç½®é¡¹ç›®IDå’Œæ•°æ®é›†
```

### ç¬¬äºŒé˜¶æ®µï¼šCMSæ•°æ®æ¨¡å‹è®¾è®¡ (çº¦45åˆ†é’Ÿ)

åˆ›å»ºäº†ä»¥ä¸‹Sanity schemasï¼š

#### æ–‡ç« æ¨¡å‹ (post.ts)
```typescript
{
  name: 'post',
  fields: [
    { name: 'title', type: 'string' },
    { name: 'slug', type: 'slug' },
    { name: 'excerpt', type: 'text' },
    { name: 'publishedAt', type: 'datetime' },
    { name: 'mainImage', type: 'image' },
    { name: 'body', type: 'blockContent' },
    { name: 'author', type: 'reference' },
    { name: 'categories', type: 'array' }
  ]
}
```

#### åˆ†ç±»æ¨¡å‹ (category.ts)
```typescript
{
  name: 'category',
  fields: [
    { name: 'title', type: 'string' },
    { name: 'slug', type: 'slug' },
    { name: 'description', type: 'text' }
  ]
}
```

#### ç½‘ç«™è®¾ç½®æ¨¡å‹ (siteSettings.ts)
```typescript
{
  name: 'siteSettings',
  fields: [
    { name: 'title', type: 'string' },
    { name: 'heroTitle', type: 'string' },
    { name: 'heroSubtitle', type: 'text' },
    { name: 'footerDescription', type: 'text' },
    { name: 'email', type: 'string' },
    { name: 'github', type: 'url' },
    { name: 'twitter', type: 'url' }
  ]
}
```

### ç¬¬ä¸‰é˜¶æ®µï¼šå‰ç«¯é¡µé¢å¼€å‘ (çº¦2å°æ—¶)

#### 1. é¦–é¡µå¼€å‘
- å±•ç¤ºæœ€æ–°æ–‡ç« 
- åŠ¨æ€æ ‡é¢˜å’Œå‰¯æ ‡é¢˜
- æ–‡ç« å¡ç‰‡ç»„ä»¶

#### 2. æ–‡ç« è¯¦æƒ…é¡µ
- åŠ¨æ€è·¯ç”± `/posts/[slug]`
- PortableTextæ¸²æŸ“å¯Œæ–‡æœ¬
- SEOä¼˜åŒ–

#### 3. åˆ†ç±»é¡µé¢
- åˆ†ç±»åˆ—è¡¨å±•ç¤º
- æŒ‰åˆ†ç±»ç­›é€‰æ–‡ç« 

#### 4. æœç´¢åŠŸèƒ½
- å®¢æˆ·ç«¯æœç´¢å®ç°
- å®æ—¶æœç´¢ç»“æœ

#### 5. ç®¡ç†ç•Œé¢é›†æˆ
- `/admin` è·¯ç”±é›†æˆSanity Studio
- æ— ä»£ç å†…å®¹ç®¡ç†

### ç¬¬å››é˜¶æ®µï¼šSEOå’Œæ€§èƒ½ä¼˜åŒ– (çº¦1å°æ—¶)

#### SEOä¼˜åŒ–
- åŠ¨æ€å…ƒæ•°æ®ç”Ÿæˆ
- è‡ªåŠ¨sitemap.xmlç”Ÿæˆ
- robots.txté…ç½®
- Open Graphå’ŒTwitterå¡ç‰‡
- ç»“æ„åŒ–æ•°æ®

#### æ€§èƒ½ä¼˜åŒ–
- å›¾ç‰‡ä¼˜åŒ–é…ç½®
- é™æ€ç”Ÿæˆ(SSG)
- ç»„ä»¶ä»£ç åˆ†å‰²

## é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜1: è·¯ç”±å†²çª
**é”™è¯¯**: `/admin` è·¯ç”±ä¸ `/admin/[[...index]]` å†²çª
**è§£å†³**: åˆ é™¤ `/admin/route.ts`ï¼Œåªä¿ç•™åŠ¨æ€è·¯ç”±

### é—®é¢˜2: ä¾èµ–å†²çª
**é”™è¯¯**: npm install å¤±è´¥ï¼ŒENOTEMPTYé”™è¯¯
**è§£å†³**: åˆ é™¤ node_modules å¹¶é‡æ–°å®‰è£…
```bash
rm -rf node_modules package-lock.json
npm install
```

### é—®é¢˜3: CORSé”™è¯¯
**é”™è¯¯**: Sanity Studioæ— æ³•è¿æ¥API
**è§£å†³**: åœ¨Sanityé¡¹ç›®è®¾ç½®ä¸­æ·»åŠ  `localhost:3000` åˆ°CORSç™½åå•

### é—®é¢˜4: å›¾ç‰‡åŠ è½½å¤±è´¥
**é”™è¯¯**: Next.jsé˜»æ­¢Sanity CDNå›¾ç‰‡
**è§£å†³**: é…ç½® `next.config.ts`
```typescript
images: {
  domains: ['cdn.sanity.io']
}
```

### é—®é¢˜5: ç»„ä»¶æ¶æ„é—®é¢˜
**é”™è¯¯**: Server/Clientç»„ä»¶æ··ç”¨å¯¼è‡´hydrationé”™è¯¯
**è§£å†³**: æ˜ç¡®ç»„ä»¶è¾¹ç•Œï¼Œæ·»åŠ  `suppressHydrationWarning`

### é—®é¢˜6: Verceléƒ¨ç½²å¤±è´¥
**é”™è¯¯**: TypeScriptå’ŒESLintä¸¥æ ¼æ£€æŸ¥å¤±è´¥
**è§£å†³**: é…ç½® `next.config.ts` å¿½ç•¥æ„å»ºæ—¶é”™è¯¯
```typescript
typescript: { ignoreBuildErrors: true },
eslint: { ignoreDuringBuilds: true }
```

## éƒ¨ç½²æµç¨‹

### 1. ä»£ç æ¨é€åˆ°GitHub
```bash
git init
git add .
git commit -m "å®Œæˆåšå®¢ç½‘ç«™å¼€å‘"
git remote add origin git@github.com:yubuybuy/blog.git
git push -u origin master
```

### 2. Verceléƒ¨ç½²é…ç½®
1. è®¿é—® https://vercel.com
2. å¯¼å…¥GitHubä»“åº“
3. é…ç½®ç¯å¢ƒå˜é‡:
   ```
   NEXT_PUBLIC_SANITY_PROJECT_ID=your-project-id
   NEXT_PUBLIC_SANITY_DATASET=production
   NEXT_PUBLIC_BASE_URL=https://your-domain.com
   ```

### 3. åŸŸåé…ç½®
1. åœ¨Vercelé¡¹ç›®è®¾ç½®ä¸­æ·»åŠ è‡ªå®šä¹‰åŸŸå
2. é…ç½®DNSè®°å½•æŒ‡å‘Vercel
3. è‡ªåŠ¨SSLè¯ä¹¦é…ç½®

### 4. Sanity CORSé…ç½®
åœ¨Sanityç®¡ç†é¢æ¿ä¸­æ·»åŠ ç”Ÿäº§åŸŸååˆ°CORSç™½åå•

## ä½¿ç”¨æŒ‡å—

### å†…å®¹ç®¡ç†
1. è®¿é—® `https://yourdomain.com/admin`
2. ä½¿ç”¨Sanity Studioç®¡ç†å†…å®¹
3. å‘å¸ƒæ–‡ç« è‡ªåŠ¨æ˜¾ç¤ºåœ¨ç½‘ç«™

### ç½‘ç«™è®¾ç½®
1. åœ¨Sanity Studioä¸­æ‰¾åˆ°"ç½‘ç«™è®¾ç½®"
2. ä¿®æ”¹æ ‡é¢˜ã€å‰¯æ ‡é¢˜ã€è”ç³»ä¿¡æ¯ç­‰
3. ä¿å­˜åè‡ªåŠ¨æ›´æ–°ç½‘ç«™

### æ·»åŠ æ–°æ–‡ç« 
1. åœ¨Sanity Studioç‚¹å‡»"æ–‡ç« "
2. å¡«å†™æ ‡é¢˜ã€å†…å®¹ã€åˆ†ç±»ç­‰ä¿¡æ¯
3. æ·»åŠ å°é¢å›¾ç‰‡
4. å‘å¸ƒåå³å¯åœ¨ç½‘ç«™çœ‹åˆ°

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### ä¸­å›½ç”¨æˆ·ä¼˜åŒ–
- âœ… ä½¿ç”¨Vercelå…¨çƒCDN
- âœ… å›¾ç‰‡è‡ªåŠ¨å‹ç¼©å’ŒWebPè½¬æ¢
- âœ… é™æ€ç”Ÿæˆå‡å°‘æœåŠ¡å™¨è¯·æ±‚
- ğŸ”„ è€ƒè™‘ä½¿ç”¨å›½å†…CDNæœåŠ¡å•†

### è¿›ä¸€æ­¥ä¼˜åŒ–
- æ·»åŠ ç¼“å­˜ç­–ç•¥
- å®ç°å¢é‡é™æ€é‡æ–°ç”Ÿæˆ(ISR)
- ä¼˜åŒ–é¦–å±åŠ è½½æ—¶é—´
- æ·»åŠ PWAæ”¯æŒ

## ç›‘æ§å’Œåˆ†æ

### æ¨èå·¥å…·
- **Vercel Analytics**: å†…ç½®æ€§èƒ½ç›‘æ§
- **Google Analytics**: ç”¨æˆ·è¡Œä¸ºåˆ†æ
- **ç™¾åº¦ç»Ÿè®¡**: é’ˆå¯¹ä¸­å›½ç”¨æˆ·
- **Google Search Console**: SEOç›‘æ§

## ç»´æŠ¤å’Œæ›´æ–°

### å®šæœŸä»»åŠ¡
- [ ] ç›‘æ§ç½‘ç«™æ€§èƒ½
- [ ] æ›´æ–°ä¾èµ–åŒ…ç‰ˆæœ¬
- [ ] å¤‡ä»½å†…å®¹æ•°æ®
- [ ] æ£€æŸ¥SEOè¡¨ç°

### æ‰©å±•åŠŸèƒ½
- [ ] è¯„è®ºç³»ç»Ÿ
- [ ] è®¢é˜…åŠŸèƒ½
- [ ] æ ‡ç­¾ç³»ç»Ÿ
- [ ] ç›¸å…³æ–‡ç« æ¨è
- [ ] æ·±è‰²æ¨¡å¼

## æˆæœ¬åˆ†æ

### å…è´¹é¢åº¦
- **Vercel**: ä¸ªäººé¡¹ç›®å…è´¹ï¼ŒåŒ…å«CDNå’Œè‡ªåŠ¨éƒ¨ç½²
- **Sanity**: å…è´¹è®¡åˆ’åŒ…å«10ä¸‡æ¬¡APIè°ƒç”¨/æœˆ
- **æ€»æˆæœ¬**: åŸºæœ¬å…è´¹ä½¿ç”¨

### ä»˜è´¹å‡çº§åœºæ™¯
- æµé‡è¶…è¿‡Vercelå…è´¹é¢åº¦
- Sanity APIè°ƒç”¨è¶…é™
- éœ€è¦æ›´å¤šåä½œè€…

## é¡¹ç›®æ€»ç»“

### å¼€å‘æ—¶é•¿: çº¦4å°æ—¶
- é¡¹ç›®åˆå§‹åŒ–: 30åˆ†é’Ÿ
- CMSè®¾è®¡: 45åˆ†é’Ÿ
- å‰ç«¯å¼€å‘: 2å°æ—¶
- SEOä¼˜åŒ–: 45åˆ†é’Ÿ
- éƒ¨ç½²é…ç½®: 30åˆ†é’Ÿ

### æŠ€æœ¯äº®ç‚¹
1. **æ— ä»£ç å†…å®¹ç®¡ç†**: éæŠ€æœ¯äººå‘˜å¯ç‹¬ç«‹ç®¡ç†
2. **ç°ä»£åŒ–æ¶æ„**: ä½¿ç”¨æœ€æ–°çš„Reactå’ŒNext.jsç‰¹æ€§
3. **ä¼˜ç§€æ€§èƒ½**: CDNåŠ é€Ÿ + é™æ€ç”Ÿæˆ
4. **SEOå‹å¥½**: å®Œæ•´çš„æœç´¢å¼•æ“ä¼˜åŒ–
5. **å“åº”å¼è®¾è®¡**: é€‚é…æ‰€æœ‰è®¾å¤‡

### é€‚ç”¨åœºæ™¯
- âœ… ä¸ªäººåšå®¢å’Œä½œå“å±•ç¤º
- âœ… å°å‹ä¼ä¸šå®˜ç½‘
- âœ… æŠ€æœ¯æ–‡æ¡£ç«™ç‚¹
- âœ… åˆ›ä½œè€…å†…å®¹å¹³å°

è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†å¦‚ä½•å¿«é€Ÿæ„å»ºä¸€ä¸ªç°ä»£åŒ–ã€é«˜æ€§èƒ½çš„å†…å®¹ç½‘ç«™ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦å†…å®¹ç®¡ç†ä½†ä¸æƒ³æ·±å…¥æŠ€æœ¯ç»†èŠ‚çš„ç”¨æˆ·ã€‚

---

**æœ€ç»ˆç½‘ç«™**: https://blog-delta-five-13.vercel.app
**GitHubä»“åº“**: https://github.com/yubuybuy/blog
**å¼€å‘æ—¥æœŸ**: 2025å¹´9æœˆ17æ—¥