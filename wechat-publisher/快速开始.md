# 微信公众号发布工具 - 快速开始

## 一分钟上手

### 1. 配置环境变量

在 `.env.local` 文件中添加:

```env
WECHAT_APP_ID=wxxxxxxxxxxx
WECHAT_APP_SECRET=xxxxxxxxxxxxxxxxxxxxxxxx
```

### 2. 运行测试

```bash
# 创建1篇草稿(推荐首次使用)
npm run wechat:draft

# 自动发布1篇文章
npm run wechat:publish

# 批量发布3篇文章
npm run wechat:publish:batch
```

## 获取AppID和AppSecret

1. 访问 https://mp.weixin.qq.com/
2. 登录你的公众号
3. 进入 **开发 → 基本配置**
4. 复制 **AppID** 和 **AppSecret**

⚠️ 注意:需要**认证的公众号**才能使用此功能

## 工作流程

```
你的博客文章(Sanity)
        ↓
自动获取最新文章
        ↓
转换格式+添加导流
        ↓
发布到公众号
        ↓
用户点击"阅读原文"
        ↓
跳转到你的网站
        ↓
获取网盘链接
```

## 导流效果

工具会自动在公众号文章中添加:

1. **引导文案**: "点击阅读原文获取网盘资源链接"
2. **网站链接**: 在文章底部显示你的网站地址
3. **免责声明**: 自动添加版权声明

这样可以有效将公众号读者导流到你的网站!

## 详细文档

查看完整使用指南: [README.md](./README.md)

## 常见问题

**Q: 必须是认证公众号吗?**
A: 是的,只有认证的服务号或订阅号才能使用高级接口发布文章。

**Q: 每天可以发布多少篇?**
A: 认证订阅号每天1条,认证服务号每月4条(可申请增加)。

**Q: 能否自定义导流文案?**
A: 可以,编辑 `article-converter.js` 文件即可自定义。

**Q: 如何避免重复发布?**
A: 建议在Sanity中添加 `wechatPublished` 字段来追踪发布状态。

---

🚀 现在开始使用,让公众号成为你网站的流量入口!
